{
  "global_settings": {
    "coupling": 100
  },
  "nodes": [
    {
      "id": 0,
      "class_name": "NoiseGeneratorNode",
      "pos_x": 50,
      "pos_y": 50,
      "width": 200,
      "height": 160,
      "config": {
        "noise_type": "quantum",
        "speed": 0.05
      }
    },
    {
      "id": 1,
      "class_name": "IHTPhaseFieldNode",
      "pos_x": 300,
      "pos_y": 50,
      "width": 250,
      "height": 200,
      "config": {
        "N": 64,
        "alpha": 0.1,
        "gamma": 0.05,
        "eta": 0.1
      }
    },
    {
      "id": 2,
      "class_name": "IHTAttractorWNode",
      "pos_x": 600,
      "pos_y": 50,
      "width": 250,
      "height": 200,
      "config": {
        "hidden_dim": 128,
        "mapping_type": "Learned"
      }
    },
    {
      "id": 3,
      "class_name": "SignalProcessorNode",
      "pos_x": 50,
      "pos_y": 250,
      "width": 200,
      "height": 160,
      "config": {
        "processing_mode": "smoothing",
        "factor": 0.2
      }
    },
    {
      "id": 4,
      "class_name": "TopologicalAtomNode",
      "pos_x": 300,
      "pos_y": 350,
      "width": 250,
      "height": 200,
      "config": {
        "atomic_number": 6,
        "stable": false
      }
    },
    {
      "id": 5,
      "class_name": "SignalMathNode",
      "pos_x": 50,
      "pos_y": 500,
      "width": 200,
      "height": 100,
      "config": {
        "operation": "subtract"
      }
    },
    {
      "id": 6,
      "class_name": "ConstantSignalNode",
      "pos_x": 50,
      "pos_y": 620,
      "width": 200,
      "height": 100,
      "config": {
        "value": 1.0 # Constant signal representing Max Coherence
      }
    },
    {
      "id": 7,
      "class_name": "ImageDisplayNode",
      "pos_x": 600,
      "pos_y": 350,
      "width": 250,
      "height": 200,
      "config": {
        "width": 160,
        "height": 120
      }
    },
    {
      "id": 8,
      "class_name": "SignalMonitorNode",
      "pos_x": 900,
      "pos_y": 350,
      "width": 200,
      "height": 160,
      "config": {
        "history_len": 500
      }
    }
  ],
  "edges": [
    {
      "from_node_id": 0,
      "from_port": "image",
      "to_node_id": 1,
      "to_port": "perturbation"
    },
    {
      "from_node_id": 0,
      "from_port": "signal",
      "to_node_id": 3,
      "to_port": "input_signal"
    },
    {
      "from_node_id": 3,
      "from_port": "output_signal",
      "to_node_id": 1,
      "to_port": "dilution"
    },
    {
      "from_node_id": 1,
      "from_port": "phase_field",
      "to_node_id": 2,
      "to_port": "phase_field"
    },
    {
      "from_node_id": 2,
      "from_port": "projected_field",
      "to_node_id": 4,
      "to_port": "rotation_rate" # Use projected field amplitude to rotate atom
    },
    {
      "from_node_id": 1,
      "from_port": "coherence",
      "to_node_id": 5,
      "to_port": "B" # Coherence is input B (the value we subtract from 1)
    },
    {
      "from_node_id": 6,
      "from_port": "signal",
      "to_node_id": 5,
      "to_port": "A" # Constant 1.0 is input A (Max Coherence)
    },
    {
      "from_node_id": 5,
      "from_port": "result",
      "to_node_id": 4,
      "to_port": "noise_strength" # (1 - Coherence) = Noise Strength
    },
    {
      "from_node_id": 4,
      "from_port": "field_image",
      "to_node_id": 7,
      "to_port": "image"
    },
    {
      "from_node_id": 4,
      "from_port": "stability",
      "to_node_id": 8,
      "to_port": "signal"
    }
  ]
}